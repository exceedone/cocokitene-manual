# PHP設定値変更

ここでは、以下の内容の設定を変更する手順となります。

- ファイルアップロード上限サイズ変更
- メモリ量変更
- タイムアウト時間変更
- 一度にPOSTできる上限数


#### ファイルアップロード上限サイズ変更
Exmentでは、画面からファイルをアップロードする機能があります。  
アップロードできるファイルサイズは、サーバーによって上限値があります。  
（デフォルトの上限値は、インストールしたサーバーによって異なります）  

#### メモリ量変更
Exment(PHP)で使用するメモリ量を変更します。  
メモリ量が大きいほど、処理が早くなったり、一度に実行できる内容が変動しますが、大きすぎると、サーバー動作に影響がある場合があります。

#### タイムアウト時間変更
PHPのタイムアウト時間の変更を行います。  
タイムアウト時間を変更することで、インポートやエクスポート、バックアップなど、処理に時間のかかる機能のタイムアウトを、より確実に実行することができます。  
※処理に時間がかかる機能には、タイムアウト時間を伸ばす処理を、はじめからExnentのコードにも追加しています。ですが、環境によってはこの機能が有効にならない場合があるので、タイムアウトが頻発する場合には、こちらの対応を行ってください。

#### 一度にPOSTできる上限数
一度にPOSTできる上限数を設定します。  
各種データ入力画面で、入力項目が上限値をオーバーしていた場合に、正常に動作しない場合があります。  
※主に以下の画面で、上限値不足によるエラーになる場合があります。  

- ワークフロー利用設定で、テーブル数・ワークフロー数が多い時
- カスタムフォーム設定画面にて、登録する列項目の件数が非常に多い場合
- カスタムデータ入力画面にて、項目の件数が非常に多い場合




## 設定方法
設定方法1、2のいずれかの方法で設定を行ってください。


### 設定方法1 php.ini修正

- PHPをインストールしたフォルダにある、「php.ini」ファイルを開きます。※php.inifファイルのパスは、環境によって異なります。

- php.iniファイルより、以下の値を修正します。※すでに数値がセットされている場合が多いので、数値を書き換えてください。

~~~
### ファイルアップロード上限サイズ変更
#POSTデータに許可される最大サイズ
post_max_size=20M
#1つのファイルアップロードに許可される最大サイズ
upload_max_filesize=20M


### メモリ量変更
# 512Mに変更する場合
memory_limit=512M
# 無制限に変更する場合
memory_limit=-1


### タイムアウト時間変更
#240秒に変更する場合
max_execution_time=240
#無制限に変更する場合
max_execution_time=0


### 一度にPOSTできる上限数変更
#3000件に変更する場合
max_input_vars=3000
~~~

- サーバーを再起動します。


### 設定方法2 .htaccessファイル修正
- Exmentをインストールしたフォルダの、「public/.htaccess」ファイルを開きます。

- 以下の値を追加します。

~~~
### ファイルアップロード上限サイズ変更
#POSTデータに許可される最大サイズ
php_value post_max_size 20M
#1つのファイルアップロードに許可される最大サイズ
php_value upload_max_filesize 20M


### メモリ量変更
# 512Mに変更する場合
php_value memory_limit 512M
# 無制限に変更する場合
php_value memory_limit -1


### タイムアウト時間変更
#240秒に変更する場合
php_value max_execution_time 240
#無制限に変更する場合
php_value max_execution_time 0


### 一度にPOSTできる上限数変更
#3000件に変更する場合
php_value max_input_vars 3000
~~~

- サーバーを再起動します。

[←追加設定一覧へ戻る](/ja/quickstart_more)